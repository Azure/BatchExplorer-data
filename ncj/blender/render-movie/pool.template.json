{
    "parameters": {
        "numberNodes": {
            "type": "int",
            "defaultValue": 5,
            "metadata": {
                "description": "The number of nodes in the Azure Batch pool where the job will run"
            }
        },
        "vmSize": {
            "type": "string",
            "metadata": {
                "description": "The size of the virtual machines that run the application"
            },
            "defaultValue": "STANDARD_A1",
            "allowedValues": [
                "STANDARD_A1",
                "STANDARD_A2",
                "STANDARD_A3",
                "STANDARD_A4",
                "STANDARD_D1",
                "STANDARD_D2",
                "STANDARD_D3",
                "STANDARD_D4"
            ]
        }
    },
    "variables": {
        "osType": {
            "imageReference": {
                "publisher": "Canonical",
                "offer": "UbuntuServer",
                "sku": "16.04.0-LTS",
                "version": "latest"
            },
            "nodeAgentSKUId": "batch.node.ubuntu 16.04"
        }
    },
    "pool": {
        "displayName": "Blender pool running: [parameters('jobName')]",
        "vmSize": "[parameters('vmSize')]",
        "virtualMachineConfiguration": "[variables('osType')]",
        "packageReferences": [
            {
                "type": "aptPackage",
                "id": "blender"
            }
        ],
        "targetDedicatedNodes": "[parameters('numberNodes')]",
        "enableAutoScale": false
    },
}